    <!-- <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" /> -->

<!-- Make sure you put this AFTER Leaflet's CSS -->
<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>

 <script src="https://cdn.jsdelivr.net/npm/graphhopper-js-api-client/dist/graphhopper-client.js"></script>
 

<div class="information">
<h1>Safe Ride</h1>
<div class="headsection">
    <p>This site allows bikers to find a safe bicycle route using the DVRPC Bicycle Level of Traffic Stress and Connectivity Analysis</p>
    <p>Based on this network, we will assign you a bike route that not only prioritizes the <a href="">most efficient path</a> but also considers the least stressful riding experience on the existing network.
        <h4>(<a href="">How do we do this?)</a></h4></p>
</div>
</div> <!-- end info div -->


<div id="mapid"></div>
<!-- Add jQuery -->
<!--     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script> -->
<!-- Leaflet Ajax CDN -->
<script type="text/javascript" src="
  https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>


<script>
  // putting map request on top of map layer 

  // Add AJAX request for data
        // r
// var lts = new L.GeoJSON.AJAX("https://arcgis.dvrpc.org/arcgis/rest/services/AppData/BSTRESS_LTS12Islands/MapServer?f=pjson",{dataType:"jsonp"});
// mymap.addLayer(lts);
var mymap = L.map('mapid').setView(
    [39.950782, -75.206876], 11);
// Leaflet API command 
L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
    maxZoom: 18,
    username: 'nasiek',
    id: 'mapbox.streets',
    accessToken: '<%=ENV['mapbox'] %>',
}).addTo(mymap);

// var lts = new L.GeoJSON("https://opendata.arcgis.com/datasets/103fc2ee06d84fa5aaace0cfb9a03447_0.geojson").addTo(mymap); //full LTS map
var lts = new L.GeoJSON.AJAX("https://opendata.arcgis.com/datasets/113771ce9fa0424a8b529de9b74b1bc4_0.geojson").addTo(mymap); // just LTS 1 & 2 islands
console.log(mymap);
console.log(lts);
//ajax geojson request 
// var lts = new L.GeoJSON.AJAX("https://arcgis.dvrpc.org/arcgis/rest/services/AppData/BSTRESS_LTS12Islands/MapServer/0?f=pjson");

//https://opendata.arcgis.com/datasets/103fc2ee06d84fa5aaace0cfb9a03447_0.geojson
// var lts = new L.GeoJSON.AJAX("https://arcgis.dvrpc.org/arcgis/rest/services/AppData/BSTRESS_LTS12Islands/MapServer/0?f=pjson",{dataType:"jsonp"});

// console.log("lts",lts);
// lts.addTo(mymap);

</script>




<script>
  window.onload = function() {

    var ghRouting = new GraphHopper.Routing({
      key: '<%= ENV['graphhopper']%>',
      vehicle: "bike",
      elevation: false
    });

    ghRouting.addPoint(new GHInput(39.9553278, -75.171741));
    ghRouting.addPoint(new GHInput(39.9497359, -75.2116433));

    ghRouting.doRequest()
      .then(function(json) {
        // Add your own result handling here
        console.log(json);
        var drawRoute = json;
        var routeCoordinates = drawRoute.paths[0].points.coordinates;
        
        console.log("routeCoordinates:",routeCoordinates);
      })
      .catch(function(err) {
        console.error(err.message);
      });



  };
</script>


<script>
  




</script>